"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[843],{843:(R,p,d)=>{d.r(p),d.d(p,{HomePageModule:()=>H});var h=d(177),r=d(4742),m=d(4341),f=d(2063),u=d(467),M=d(9350),D=d(7707),e=d(4438),_=d(1626);function C(a,l){if(1&a&&(e.j41(0,"ion-select-option",14),e.EFF(1),e.k0s()),2&a){const i=l.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function b(a,l){if(1&a&&(e.j41(0,"ion-select-option",14),e.EFF(1),e.k0s()),2&a){const i=l.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function P(a,l){if(1&a){const i=e.RV6();e.j41(0,"div")(1,"ion-list")(2,"ion-row",15)(3,"ion-col",16)(4,"p"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col",17)(7,"ion-button",18),e.bIt("click",function(){const o=e.eBV(i).index,s=e.XpG();return e.Njj(s.editarDespesa(o))}),e.nrm(8,"ion-icon",19),e.k0s()(),e.j41(9,"ion-col",17)(10,"ion-button",20),e.bIt("click",function(){const o=e.eBV(i).index,s=e.XpG();return e.Njj(s.confirmarExclusao(o))}),e.nrm(11,"ion-icon",21),e.k0s()()()()()}if(2&a){const i=l.$implicit;e.R7$(5),e.ZXR("",i.descricao," (Qtd. ",i.quantidade,"): ",i.valor," ",i.moedaOrigem," => ",i.valorConvertido," ",i.moedaDestino,"")}}const O=[{path:"",component:(()=>{var a;class l{constructor(n,o){this.http=n,this.alertController=o,this.Descricao="",this.moedas=[],this.moedaOrigem="",this.moedaDestino="",this.despesas=[],this.despesaEditandoIndex=null,this.apiKey="eaf5c3a6f3625d654507a11d"}ngOnInit(){this.carregarMoedas()}carregarMoedas(){this.http.get(`https://v6.exchangerate-api.com/v6/${this.apiKey}/codes`).subscribe(n=>{this.moedas=n.supported_codes.map(o=>o[0])})}adicionarNovaDespesa(){var n=this;return(0,u.A)(function*(){if(!n.Descricao||null==n.Quantidade||null==n.Valor||!n.moedaOrigem||!n.moedaDestino)return void(yield n.presentAlert("Campos obrigat\xf3rios","Preencha todos os campos antes de adicionar a despesa."));const o=yield n.converterMoeda(n.Valor,n.moedaOrigem,n.moedaDestino);null!==o&&(null!==n.despesaEditandoIndex?n.atualizarDespesa(n.despesaEditandoIndex,o):n.criarNovaDespesa(o),n.limparInputs())})()}criarNovaDespesa(n){this.despesas.push({descricao:this.Descricao,quantidade:this.Quantidade,valor:this.Valor,valorConvertido:n,moedaOrigem:this.moedaOrigem,moedaDestino:this.moedaDestino})}atualizarDespesa(n,o){this.despesas[n]={descricao:this.Descricao,quantidade:this.Quantidade,valor:this.Valor,valorConvertido:o,moedaOrigem:this.moedaOrigem,moedaDestino:this.moedaDestino},this.despesaEditandoIndex=null}converterMoeda(n,o,s){var t=this;return(0,u.A)(function*(){try{var g;const c=yield function v(a,l){const i="object"==typeof l;return new Promise((n,o)=>{const s=new D.Ms({next:t=>{n(t),s.unsubscribe()},error:o,complete:()=>{i?n(l.defaultValue):o(new M.G)}});a.subscribe(s)})}(t.http.get(`https://v6.exchangerate-api.com/v6/${t.apiKey}/pair/${o}/${s}/${n}`));return null!==(g=null==c?void 0:c.conversion_result)&&void 0!==g?g:null}catch(c){return console.error("Erro ao converter moedas:",c),null}})()}editarDespesa(n){const o=this.despesas[n];this.Descricao=o.descricao,this.Quantidade=o.quantidade,this.Valor=o.valor,this.moedaOrigem=o.moedaOrigem,this.moedaDestino=o.moedaDestino,this.despesaEditandoIndex=n}confirmarExclusao(n){var o=this;return(0,u.A)(function*(){yield(yield o.alertController.create({header:"Confirma\xe7\xe3o",message:"Tem certeza de que deseja excluir esta despesa?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Exclus\xe3o cancelada")}},{text:"Excluir",role:"destructive",handler:()=>{o.excluirDespesa(n)}}]})).present()})()}excluirDespesa(n){this.despesas.splice(n,1),console.log("Despesa exclu\xedda")}getTotalMoedaOrigem(){return this.despesas.reduce((n,o)=>n+o.valor*o.quantidade,0)}getTotalMoedaDestino(){return this.despesas.reduce((n,o)=>n+o.valorConvertido*o.quantidade,0)}limparInputs(){this.Descricao="",this.Quantidade=0,this.Valor=void 0,this.moedaOrigem="",this.moedaDestino="",this.despesaEditandoIndex=null}presentAlert(n,o){var s=this;return(0,u.A)(function*(){yield(yield s.alertController.create({header:n,message:o,buttons:["OK"]})).present()})()}}return(a=l).\u0275fac=function(n){return new(n||a)(e.rXU(_.Qq),e.rXU(r.hG))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-home"]],decls:31,vars:14,consts:[[3,"fullscreen"],["size-xs","12","size-sm","4","size-md","4","size-lg","4","size-xl","4"],["label","Descri\xe7\xe3o","label-placement","floating","fill","outline","placeholder","Descri\xe7\xe3o",3,"ngModelChange","ngModel"],["size-xs","12","size-sm","2","size-md","2","size-lg","2","size-xl","2"],["label","Quantidade","type","number","label-placement","floating","fill","outline","placeholder","Quantidade",3,"ngModelChange","ngModel"],["label","Valor","type","number","label-placement","floating","fill","outline","placeholder","Valor",3,"ngModelChange","ngModel"],["label","Moeda de Origem","interface","popover","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["label","Moeda de Destino","interface","popover","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],[2,"text-align","center"],["size","12"],[3,"click"],[2,"color","black"],[4,"ngFor","ngForOf"],[3,"value"],[2,"background-color","rgb(199, 199, 199)"],["size","8"],["size","2"],["aria-label","Edit",3,"click"],["name","pencil","aria-hidden","true"],["color","danger","aria-label","Delete",3,"click"],["name","trash-outline","aria-hidden","true"]],template:function(n,o){1&n&&(e.j41(0,"ion-content",0)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Gest\xe3o de Despesas em Viagens"),e.k0s()(),e.j41(5,"ion-row")(6,"ion-col",1)(7,"ion-input",2),e.mxI("ngModelChange",function(t){return e.DH7(o.Descricao,t)||(o.Descricao=t),t}),e.k0s()(),e.j41(8,"ion-col",3)(9,"ion-input",4),e.mxI("ngModelChange",function(t){return e.DH7(o.Quantidade,t)||(o.Quantidade=t),t}),e.k0s()(),e.j41(10,"ion-col",3)(11,"ion-input",5),e.mxI("ngModelChange",function(t){return e.DH7(o.Valor,t)||(o.Valor=t),t}),e.k0s()(),e.j41(12,"ion-col",3)(13,"ion-select",6),e.mxI("ngModelChange",function(t){return e.DH7(o.moedaOrigem,t)||(o.moedaOrigem=t),t}),e.DNE(14,C,2,2,"ion-select-option",7),e.k0s()(),e.j41(15,"ion-col",3)(16,"ion-select",8),e.mxI("ngModelChange",function(t){return e.DH7(o.moedaDestino,t)||(o.moedaDestino=t),t}),e.DNE(17,b,2,2,"ion-select-option",7),e.k0s()()(),e.j41(18,"ion-row",9)(19,"ion-col",10)(20,"ion-button",11),e.bIt("click",function(){return o.adicionarNovaDespesa()}),e.EFF(21),e.k0s()()(),e.j41(22,"ion-card-content",12),e.DNE(23,P,12,6,"div",13),e.k0s(),e.j41(24,"ion-card-content")(25,"ion-row")(26,"ion-col"),e.EFF(27),e.k0s()(),e.j41(28,"ion-row")(29,"ion-col"),e.EFF(30),e.k0s()()()()()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(7),e.R50("ngModel",o.Descricao),e.R7$(2),e.R50("ngModel",o.Quantidade),e.R7$(2),e.R50("ngModel",o.Valor),e.R7$(2),e.R50("ngModel",o.moedaOrigem),e.R7$(),e.Y8G("ngForOf",o.moedas),e.R7$(2),e.R50("ngModel",o.moedaDestino),e.R7$(),e.Y8G("ngForOf",o.moedas),e.R7$(4),e.SpI(" ",null!==o.despesaEditandoIndex?"Atualizar":"Adicionar"," "),e.R7$(2),e.Y8G("ngForOf",o.despesas),e.R7$(4),e.Lme(" Total (Moeda de Origem): ",o.getTotalMoedaOrigem()," ",o.moedaOrigem," "),e.R7$(3),e.Lme(" Total (Moeda de Destino): ",o.getTotalMoedaDestino()," ",o.moedaDestino," "))},dependencies:[h.Sq,m.BC,m.vS,r.Jm,r.b_,r.I9,r.ME,r.tN,r.hU,r.W9,r.iq,r.$w,r.nf,r.ln,r.Nm,r.Ip,r.su,r.Je,r.Gw],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),l})()}];let E=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[f.iI.forChild(O),f.iI]}),l})(),H=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[h.MD,m.YN,r.bv,E]}),l})()}}]);