"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[843],{843:(R,p,d)=>{d.r(p),d.d(p,{HomePageModule:()=>H});var h=d(177),s=d(4742),u=d(4341),f=d(2063),m=d(467),M=d(9350),D=d(7707),e=d(4438),C=d(1626);function _(a,l){if(1&a&&(e.j41(0,"ion-select-option",18),e.EFF(1),e.k0s()),2&a){const t=l.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function b(a,l){if(1&a&&(e.j41(0,"ion-select-option",18),e.EFF(1),e.k0s()),2&a){const t=l.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function P(a,l){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"ion-list")(2,"ion-row")(3,"ion-col",19)(4,"p"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col",20)(7,"ion-button",21),e.bIt("click",function(){const o=e.eBV(t).index,r=e.XpG();return e.Njj(r.editarDespesa(o))}),e.nrm(8,"ion-icon",22),e.k0s()(),e.j41(9,"ion-col",20)(10,"ion-button",23),e.bIt("click",function(){const o=e.eBV(t).index,r=e.XpG();return e.Njj(r.confirmarExclusao(o))}),e.nrm(11,"ion-icon",24),e.k0s()()()()()}if(2&a){const t=l.$implicit;e.R7$(5),e.ZXR("",t.descricao," (Qtd. ",t.quantidade,"): ",t.valor," ",t.moedaOrigem," => ",t.valorConvertido," ",t.moedaDestino,"")}}const O=[{path:"",component:(()=>{var a;class l{constructor(n,o){this.http=n,this.alertController=o,this.Descricao="",this.moedas=[],this.moedaOrigem="",this.moedaDestino="",this.despesas=[],this.despesaEditandoIndex=null,this.apiKey="eaf5c3a6f3625d654507a11d"}ngOnInit(){this.carregarMoedas()}carregarMoedas(){this.http.get(`https://v6.exchangerate-api.com/v6/${this.apiKey}/codes`).subscribe(n=>{this.moedas=n.supported_codes.map(o=>o[0])})}adicionarNovaDespesa(){var n=this;return(0,m.A)(function*(){if(!n.Descricao||null==n.Quantidade||null==n.Valor||!n.moedaOrigem||!n.moedaDestino)return void(yield n.presentAlert("Campos obrigat\xf3rios","Preencha todos os campos antes de adicionar a despesa."));const o=yield n.converterMoeda(n.Valor,n.moedaOrigem,n.moedaDestino);null!==o&&(null!==n.despesaEditandoIndex?n.atualizarDespesa(n.despesaEditandoIndex,o):n.criarNovaDespesa(o),n.limparInputs())})()}criarNovaDespesa(n){this.despesas.push({descricao:this.Descricao,quantidade:this.Quantidade,valor:this.Valor,valorConvertido:n,moedaOrigem:this.moedaOrigem,moedaDestino:this.moedaDestino})}atualizarDespesa(n,o){this.despesas[n]={descricao:this.Descricao,quantidade:this.Quantidade,valor:this.Valor,valorConvertido:o,moedaOrigem:this.moedaOrigem,moedaDestino:this.moedaDestino},this.despesaEditandoIndex=null}converterMoeda(n,o,r){var i=this;return(0,m.A)(function*(){try{var g;const c=yield function v(a,l){const t="object"==typeof l;return new Promise((n,o)=>{const r=new D.Ms({next:i=>{n(i),r.unsubscribe()},error:o,complete:()=>{t?n(l.defaultValue):o(new M.G)}});a.subscribe(r)})}(i.http.get(`https://v6.exchangerate-api.com/v6/${i.apiKey}/pair/${o}/${r}/${n}`));return null!==(g=null==c?void 0:c.conversion_result)&&void 0!==g?g:null}catch(c){return console.error("Erro ao converter moedas:",c),null}})()}editarDespesa(n){const o=this.despesas[n];this.Descricao=o.descricao,this.Quantidade=o.quantidade,this.Valor=o.valor,this.moedaOrigem=o.moedaOrigem,this.moedaDestino=o.moedaDestino,this.despesaEditandoIndex=n}confirmarExclusao(n){var o=this;return(0,m.A)(function*(){yield(yield o.alertController.create({header:"Confirma\xe7\xe3o",message:"Tem certeza de que deseja excluir esta despesa?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Exclus\xe3o cancelada")}},{text:"Excluir",role:"destructive",handler:()=>{o.excluirDespesa(n)}}]})).present()})()}excluirDespesa(n){this.despesas.splice(n,1),console.log("Despesa exclu\xedda")}getTotalMoedaOrigem(){return this.despesas.reduce((n,o)=>n+o.valor*o.quantidade,0)}getTotalMoedaDestino(){return this.despesas.reduce((n,o)=>n+o.valorConvertido*o.quantidade,0)}limparInputs(){this.Descricao="",this.Quantidade=0,this.Valor=void 0,this.moedaOrigem="",this.moedaDestino="",this.despesaEditandoIndex=null}presentAlert(n,o){var r=this;return(0,m.A)(function*(){yield(yield r.alertController.create({header:n,message:o,buttons:["OK"]})).present()})()}}return(a=l).\u0275fac=function(n){return new(n||a)(e.rXU(C.Qq),e.rXU(s.hG))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-home"]],decls:33,vars:13,consts:[[1,"ion-padding"],[1,"centerCard"],["size-xs","12","size-sm","12","size-md","12","size-lg","12","size-xl","12",2,"background-color","white"],[2,"background-color","white"],["size-xs","12","size-sm","4","size-md","4","size-lg","4","size-xl","4"],["label","Descri\xe7\xe3o","label-placement","floating","fill","outline","placeholder","Descri\xe7\xe3o",3,"ngModelChange","ngModel"],["size-xs","12","size-sm","2","size-md","2","size-lg","2","size-xl","2"],["label","Quantidade","type","number","label-placement","floating","fill","outline","placeholder","Quantidade",3,"ngModelChange","ngModel"],["label","Valor","type","number","label-placement","floating","fill","outline","placeholder","Valor",3,"ngModelChange","ngModel"],["label","Moeda de Origem","interface","popover","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["label","Moeda de Destino","interface","popover","label-placement","floating","fill","outline",3,"ngModelChange","ngModel"],[2,"text-align","center"],["size","12"],[3,"click"],[2,"color","black"],[4,"ngFor","ngForOf"],[1,"moedaCenter"],[3,"value"],["size","8"],["size","2"],["aria-label","Edit",3,"click"],["name","pencil","aria-hidden","true"],["color","danger","aria-label","Delete",3,"click"],["name","trash-outline","aria-hidden","true"]],template:function(n,o){1&n&&(e.j41(0,"ion-content",0)(1,"ion-grid",1)(2,"ion-col",2)(3,"ion-card",3)(4,"ion-card-header")(5,"ion-card-title"),e.EFF(6,"Gest\xe3o de Despesas em Viagens"),e.k0s()(),e.j41(7,"ion-row")(8,"ion-col",4)(9,"ion-input",5),e.mxI("ngModelChange",function(i){return e.DH7(o.Descricao,i)||(o.Descricao=i),i}),e.k0s()(),e.j41(10,"ion-col",6)(11,"ion-input",7),e.mxI("ngModelChange",function(i){return e.DH7(o.Quantidade,i)||(o.Quantidade=i),i}),e.k0s()(),e.j41(12,"ion-col",6)(13,"ion-input",8),e.mxI("ngModelChange",function(i){return e.DH7(o.Valor,i)||(o.Valor=i),i}),e.k0s()(),e.j41(14,"ion-col",6)(15,"ion-select",9),e.mxI("ngModelChange",function(i){return e.DH7(o.moedaOrigem,i)||(o.moedaOrigem=i),i}),e.DNE(16,_,2,2,"ion-select-option",10),e.k0s()(),e.j41(17,"ion-col",6)(18,"ion-select",11),e.mxI("ngModelChange",function(i){return e.DH7(o.moedaDestino,i)||(o.moedaDestino=i),i}),e.DNE(19,b,2,2,"ion-select-option",10),e.k0s()()(),e.j41(20,"ion-row",12)(21,"ion-col",13)(22,"ion-button",14),e.bIt("click",function(){return o.adicionarNovaDespesa()}),e.EFF(23),e.k0s()()(),e.j41(24,"ion-card-content",15),e.DNE(25,P,12,6,"div",16),e.k0s(),e.j41(26,"ion-card-content",17)(27,"ion-row")(28,"ion-col"),e.EFF(29),e.k0s()(),e.j41(30,"ion-row")(31,"ion-col"),e.EFF(32),e.k0s()()()()()()()),2&n&&(e.R7$(9),e.R50("ngModel",o.Descricao),e.R7$(2),e.R50("ngModel",o.Quantidade),e.R7$(2),e.R50("ngModel",o.Valor),e.R7$(2),e.R50("ngModel",o.moedaOrigem),e.R7$(),e.Y8G("ngForOf",o.moedas),e.R7$(2),e.R50("ngModel",o.moedaDestino),e.R7$(),e.Y8G("ngForOf",o.moedas),e.R7$(4),e.SpI(" ",null!==o.despesaEditandoIndex?"Atualizar":"Adicionar"," "),e.R7$(2),e.Y8G("ngForOf",o.despesas),e.R7$(4),e.Lme(" Total (Moeda de Origem): ",o.getTotalMoedaOrigem()," ",o.moedaOrigem," "),e.R7$(3),e.Lme(" Total (Moeda de Destino): ",o.getTotalMoedaDestino()," ",o.moedaDestino," "))},dependencies:[h.Sq,u.BC,u.vS,s.Jm,s.b_,s.I9,s.ME,s.tN,s.hU,s.W9,s.lO,s.iq,s.$w,s.nf,s.ln,s.Nm,s.Ip,s.su,s.Je,s.Gw],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),l})()}];let E=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[f.iI.forChild(O),f.iI]}),l})(),H=(()=>{var a;class l{}return(a=l).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[h.MD,u.YN,s.bv,E]}),l})()}}]);